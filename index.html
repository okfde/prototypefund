<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="1.2 Millionen für Open Source Projekte rund um die Nutzung und Analyse von Daten.">
    <meta name="author" content="Open Knowledge Foundation">
<!--     <link rel="icon" href="../../favicon.ico">
 -->
    <title>Prototype Fund</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<!--     <link href="../../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">
 -->
    <!-- Custom styles for this template -->
    <link href="cover.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="site-wrapper">

      <div class="site-wrapper-inner">

        <div class="cover-container">

          <div class="inner cover">
            <canvas id="logoCanvas" resize></canvas>
            <h1 class="cover-heading">Prototype<br>Fund</h1>
            <p class="lead">1.2 Millionen für Open Source Projekte rund um die Nutzung und Analyse von Daten.</p>
            <p class="lead">
              Coming soon.
            </p>
          </div>

          <div class="mastfoot">
            <div class="inner">
              <p>Ein Projekt der <a href="https://okfn.de">Open Knowledge Foundation</a>.</p>
            </div>
          </div>

        </div>

      </div>

    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/paper-full.min.js"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>

  <script type="text/paperscript" canvas="logoCanvas">
    
    currentHit = false;

    var SVGoptions = { expandShapes : true , 
                       onLoad: function (){
                        onSVGLoadedHandler();
                       }};

    project.importSVG("p.svg" , SVGoptions );

    function onSVGLoadedHandler() {
      
      svgs = new Group();

      svg = project.activeLayer.children.p;

      svg.strokeColor = new Color(0, 0, 0);
      svg.fillColor = new Color(0, 0, 0,0);
      //svg.fillColor ="blue";
      svg.selectedColor = new Color (0,0,0);
      //svg.fullySelected = true;
      
      svg2 = svg.clone();
      //svg2.fullySelected = true;
      svg2.strokeColor = new Color(0,0,0);
      svg2.position = new Point(150,150);
      svg2.fillColor = new Color(0, 0, 0,0);

      svg2.blendMode = "multiply";

      svgs.addChild(svg);
      svgs.addChild(svg2);
      
      // Group for the pseudo 3D Elements
      pseudo3D();

    };

    function pseudo3D() {

        path1 = svg.children.p_path.children[0].segments;
        path2 = svg2.children.p_path.children[0].segments;
        
        lines = new Group();

        for (var i = path1.length - 1; i >= 0; i--) {
          pseudo3Dconnect = new Path(path1[i].point,path2[i].point);
          pseudo3Dconnect.strokeColor = "black";
          lines.addChild(pseudo3Dconnect);
        }
    
    }



    function onMouseDrag(event) {

      if(project.currentHit){
        if(project.currentHit.type == "segment" ) {
          project.currentHit.segment.point += event.delta;
          
          lines.remove();
          pseudo3D();
        
        }

        // if(project.currentHit.type == "handle-in" ) {
        //   project.currentHit.segment.handleIn += event.delta;
        // }

        // if(project.currentHit.type == "handle-out" ) {
        //   project.currentHit.segment.handleOut += event.delta;
        // }
      }

    }

    function onMouseDown(event) {

      var options = {
       tolerance : 10,
       handles : true,
       segments: true
      }

      project.currentHit = svgs.hitTest(event.point,options);       
      
    }

    function onMouseUp(event) {
      project.currentHit = false;
    }

  </script>

<body>
</html>
